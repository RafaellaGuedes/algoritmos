<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pré - AC1</title>
</head>
<body>
   
    <h3>Calculos do Sr. José</h3>
    Distância percorrida: <input type="text" id="input_distancia"><br><br>
    Duração da viagem: <input type="text" id="input_duracao"><br><br>
    Quantidade de passageiros: <input type="text" id="input_passageiros"><br><br>
    Hora de início da viagem: <input type="text" id="input_hora" min="0" max="23.59"><br><br>
    <button onclick="calcular()">Realizar viagem</button>
    <button onclick="calcularencerramento()">Encerrar dia</button><br><br>
    <div id="div_mensagem"></div>

</body>
</html>

<script>
        var faturamento_final = 0;
        var combustivel_final = 0;
        var total_horas = 0;
        var lucro_liquido = 0;

    function calcular(){
        var distancia = Number(input_distancia.value);
        var duracao = Number(input_duracao.value);
        var passageiros = Number(input_passageiros.value);
        var hora = Number(input_hora.value);
        var custo_percurso = distancia * 0.77;
        var estimativa_tempo = distancia * 1.8;
        var acrescimo_tempo = estimativa_tempo + (estimativa_tempo * 0.1);
        var desconto_tempo = estimativa_tempo - (estimativa_tempo * 0.1) ;
        var total = 0;
        var carga_extra = 0;
        var quantidade_litro = distancia / 12;
        var valor_litro = quantidade_litro * 4;
        

        if(duracao >= estimativa_tempo){
            total += (custo_percurso * 1.07)
        }

        if(duracao < estimativa_tempo){
            total -= (custo_percurso * 0.08)
        }

        if(passageiros > 1){
            total += (passageiros - 1) * 3 
        }

        if(hora <= 6){
            total -= (custo_percurso * 0.09)
        }

        if(hora > 20){
            total += (custo_percurso * 0.11)
        }

        div_mensagem.innerHTML += `A viagem foi iniciada às ${hora} horas e tinha estimativa de ${estimativa_tempo} minutos e durou ${duracao} minutos, percorrendo ${distancia} KM, com ${passageiros} passageiros, totalizando R$${total} do preço da corrida. Com essa distância, foram consumidos ${quantidade_litro} litros de gasolina, totalizando R$${valor_litro} de consumo.<br>`

        faturamento_final += total;
        total_horas += duracao / 60; 
        combustivel_final += valor_litro;
        lucro_liquido = faturamento_final - combustivel_final
    }

    function calcularencerramento(){

div_mensagem.innerHTML = `<h4>EXTRATO DO DIA</h4> 

Total de Horas Trabalhadas: ${total_horas}

<br>Faturamento Total: R$${faturamento_final} 

<br>Total de Combustível Consumido: R$${combustivel_final} 

<br>Lucro Líquido: R$${lucro_liquido} ` 
    
        if(total_horas > 6){
            div_mensagem.innerHTML += `<br>Você já trabalhou bastante hoje! Hora de descansar!`
        }

        else{
            div_mensagem.innerHTML += `<br>Você ainda deve trabalhar mais até cumprir sua cota do dia!`
        }
    }

</script>